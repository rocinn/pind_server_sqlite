@model pind_server_sqlite.Models.Login

@{
    ViewBag.Title = "登录";
}

<div class="pind">pind笔记</div>

@using (Html.BeginForm("login", "home", null, FormMethod.Post, new { @name = "loginform", @id = "loginform" }))
{
    <div class="loginContainer form-horizontal">
        @Html.EditorFor(model => model.Username, new { htmlAttributes = new { @class = "form-control", @placeholder = "用户名" } })
        @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", @type = "hidden" } })
        <input type="password" class="form-control Password" id="inputPassword" placeholder="密码">
        <input style="margin-top:20px;" id="toLogin" class="btn btn-dark col-9" type="submit" value="Login" />
    </div>
}

<script>
    document.getElementById("toLogin").addEventListener("click", function (event) {
        event.preventDefault();
        let nodePwd = document.getElementById("inputPassword");
        let nodePwdHide = document.getElementById("Password");
        nodePwdHide.value = md5(nodePwd.value);
        document.getElementById("loginform").submit();
    });

    @*let errorMsg = @ViewData["errorMsg"];
    if (errorMsg) {
        alert(errorMsg)
    }*@

</script>

<style>
    .pind {
        justify-content: center;
        display: flex;
        margin-top: 100px;
        font-weight: bold;
        font-size: 1rem;
    }

    .loginContainer {
        display: flex;
        flex-flow: column;
        align-items: center;
        margin-top: 100px;
    }

    .Password {
        margin-top: 20px;
    }
</style>
